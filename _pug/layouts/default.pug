doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible' content='IE=edge')
    meta(name='viewport' content='width=device-width, initial-scale=1')

    // css/js
    link(rel='stylesheet' type='text/css' href='/assets/css/app.css')
    link(rel='stylesheet' type='text/css' href='/assets/font-awesome-4.6.3/css/font-awesome.min.css')
    link(rel='shortcut icon' type='image/png' href='/assets/images/favicon.png')

    script(type='text/javascript' src='/assets/js/app.js' async)
    script(type='text/javascript' src='/assets/js/scale.fix.js' async)
    // end-css/js

    // feed
    | {% feed_meta %}
    // end-feed

    // meta
    - var title="{% if page.title %}{{ page.title | escape }} |{% endif %}{{ site.title | escape }}"
    - var description="{% if page.title %}{{ page.excerpt | escape }}{% else %}{{ site.description }}{% endif %}"
    - var pageurl="{% assign meta_url = site.url | append: site.baseurl %}{{ page.url | prepend: meta_url }}"

    title= title
    meta(property="og:title" content=title)
    meta(property="og:site_name" content=title)

    meta(name="description" content=description)
    meta(property="og:description" content=description)

    link(rel="canonical" href=pageurl)
    meta(property="og:url" content=pageurl)

    script(type='application/ld+json').
      {% if page.categories %}
      {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "{{ page.title }}",
        "datePublished": "{{ page.date | date: '%Y-%m-%d' }}",
        "dateModified": "{% if page.dateModified %}{{ page.dateModified | date: '%Y-%m-%d' }}{% else %}{{ page.date | date: '%Y-%m-%d' }}{% endif %}",
        "description": "{{ page.excerpt | remove: '<p>' | remove: '</p>' }}",
        "url": "#[=pageurl]",
        "author": "{{ site.author }}",
        "publisher": {
          "@type": "WebSite",
          "name": "{{ site.title }}"
        },
        "image": {
          "@type": "ImageObject",
          "url": "{% if page.image %}{{ page.image | prepend: site.baseurl | prepend: site.url }}{% else %}{{ site.logo | prepend: site.url }}{% endif %}"
        }
      }
      {% else %}
      {
        "@context": "http://schema.org",
        "@type": "WebSite",
        "name": "{{ site.title }}",
        "headline": "{{ site.title }}",
        "description": "{{ site.description }}",
        "url": "#[=pageurl]"
      }
      {% endif %}
    // end-meta

  body
    .wrapper
      header
        a(href="/")
          h1 @sonph
        p Son A. Pham || Sonny Pham
        p Interneter. Command line nerd. Productivity fanatic. Open source junkie. SWE @Google.
        nav
          ul
            li #[a(href="/") /home]
            li #[a(href="/projects") /projects]
            li #[a(href="/posts") /posts]
            li #[a(href="/about") /about]
          ul
            li
              a(href="https://facebook.com/s0nnyftw" target='_blank')
                i.fa.fa-lg.fa-facebook
            li
              a(href="https://github.com/sonph" target='_blank')
                i.fa.fa-lg.fa-github
            li
              a(href="https://twitter.com/_sonph" target='_blank')
                i.fa.fa-lg.fa-twitter
            li
              a(href="https://linkedin.com/in/sonph" target='_blank')
                i.fa.fa-lg.fa-linkedin

      section.
        {{ content }}

      footer.
        Built with #[a(href='http://jekyllrb.com') Jekyll].
        And #[a(href='http://jade-lang.org') Pug].
        And #[a(href='https://fontawesome.io' target='_blank') Font Awesome].
        Hosted with #[a(href='https://pages.github.com' target='_blank') Github Pages].
        Theme based on #[a(href='https://github.com/orderedlist/minimal' target='_blank') Minimal].
        Content by #[a(href='/about') @sonph]. &lt;3
